<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Odyessy-Login</title>
  <link rel="shortcut icon" href="/assets/pimg5.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="login.css">
</head>

<body>

  <nav>
    <div class="navbar--container sticky">
      <div class="navbar--title" style="color: #d4af37;">
        <h4>NAVIGATION</h4>
      </div>
      <div class="navbar--icon"><i class="ri-menu-unfold-3-line"></i></div>
    </div>
    <div class="nav--open close sticky">
      <div class="nav--open-icon"><i class="fas fa-times"></i></div>
      <div class="nav--open-title" style="color: #dadada;">Explore</div>
      <div class="nav--open-menu">
        <a href="/home.html">Home</a>
        <a href="/Menu/menu.html">Menu</a>
        <a href="/AboutUs/aboutUs.html">About</a>
        <a href="/Blog/blogs.html">Blogs</a>
        <a href="/Poses/poses.html">Poses</a>
        <a href="/ContactUs/contactUs.html">Contact</a>
        <a href="/Login/login.html">Login</a>
      </div>
  </nav>


  <div class="box">
    <div class="box1">
      <h1>ODYEESY</h1>
    </div>
    <div class="box2">
      <form class="p-4" id="loginForm">

        <!-- Full Name -->
        <div class="form-group form-floating mb-3">
          <input type="text" class="form-control" id="name" placeholder="Full Name">
          <label for="name">Full Name</label>
        </div>

        <!-- Date of Birth -->
        <div class="form-group form-floating mb-3">
          <input type="date" class="form-control" id="dob" placeholder="Date of Birth">
          <label for="dob">Date of Birth</label>
        </div>

        <!-- Email -->
        <div class="form-group form-floating mb-3">
          <input type="email" class="form-control" id="email" placeholder="Email">
          <label for="email">Email</label>
        </div>

        <!-- Password -->
        <div class="form-group form-floating mb-3">
          <input type="password" class="form-control" id="password" placeholder="Password">
          <label for="password">Password</label>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-block mt-3"
          style="width: 100%; background-color: #d4af37; color: #000;">Login</button>

        <!-- Error Message -->
        <p id="error-message" style="color:red;"></p>
      </form>

      <div id="toast" class="toast hidden">
        <p id="toast-message"></p>
      </div>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
  <script>
    let openIcon = document.querySelector('.navbar--icon');
    let menu = document.querySelector('.nav--open');
    let closeIcon = document.querySelector('.nav--open-icon');

    // Open the menu
    openIcon.addEventListener('click', function () {
      menu.classList.remove('close'); // Remove the close class to show the menu
      addCloseButton(); // Add the close button dynamically
    });

    // Close the menu when close icon is clicked
    closeIcon.addEventListener('click', function () {
      closeMenu();
    });

    // Function to add a close button dynamically with a PNG image
    function addCloseButton() {
      let closeButton = document.createElement('button');
      closeButton.classList.add('close-button');
      closeButton.style.cssText = `
        position: absolute;
        top: 17px;
        right: 10px;
        // background-color: #d4af37;
        // color: #333;
        border: none;
        border-radius: 50%;
        // padding: 10px 15px;
        // font-size: 1em;
        cursor: pointer;
        display: flex;
        align-items: center;
      `;

      // Add a PNG image
      let img = document.createElement('img');
      img.src = '/assets/close.png'; // Replace with the path to your PNG file
      img.alt = 'Close Menu'; // Alt text for accessibility
      img.style.cssText = `
        width: 20px; /* Set width as needed */
        height: 20px; /* Set height as needed */
        // margin-right: 8px; /* Space between the image and text */
      `;

      // Add text next to the image
      let text = document.createTextNode('');

      // Append the image and text inside the button
      closeButton.appendChild(img);
      closeButton.appendChild(text);

      // Append the close button inside the menu
      menu.appendChild(closeButton);

      // Attach event listener to close button
      closeButton.addEventListener('click', function () {
        closeMenu();
      });
    }

    // Function to close the menu and remove the close button
    function closeMenu() {
      menu.classList.add('close'); // Add the close class to hide the menu

      // Remove the close button if it exists
      let closeButton = document.querySelector('.close-button');
      if (closeButton) {
        closeButton.remove();
      }
    }



    // -----------------------------------------------------------------------------------------------------
    document.getElementById('loginForm').addEventListener('submit', function (event) {
      event.preventDefault(); // Prevent form from submitting

      // Get the values from the form
      let fullName = document.getElementById('name').value.trim();
      let dob = document.getElementById('dob').value;
      let email = document.getElementById('email').value.trim();
      let password = document.getElementById('password').value.trim();
      let errorMessage = document.getElementById('error-message');

      // Clear any previous error messages
      errorMessage.textContent = '';

      // Validate full name
      if (fullName === '') {
        errorMessage.textContent = 'Full Name is required.';
        return;
      }

      // Validate Date of Birth
      if (dob === '') {
        errorMessage.textContent = 'Date of Birth is required.';
        return;
      }

      // Validate Email
      if (!validateEmail(email)) {
        errorMessage.textContent = 'Please enter a valid email address.';
        return;
      }

      // Validate Password
      if (password === '') {
        errorMessage.textContent = 'Password is required.';
        return;
      } else if (password.length < 6) {
        errorMessage.textContent = 'Password must be at least 6 characters long.';
        return;
      }

      // If validation passes, simulate authentication
      authenticateUser(fullName, dob, email, password);
    });

    // Function to validate email using a regular expression
    function validateEmail(email) {
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailPattern.test(email);
    }

    // Simulate authentication (in a real-world scenario, you'd send this data to your backend)
    function authenticateUser(fullName, dob, email, password) {
      // Simulate authentication success
      showToast('Authentication successful! Redirecting...');

      // Redirect to home page after successful login
      setTimeout(function () {
        window.location.href = '/home.html';
      }, 4000); // Wait for the toast to fade out before redirecting
    }

    // Function to show the toast notification
    function showToast(message) {
      let toast = document.getElementById('toast');
      let toastMessage = document.getElementById('toast-message');

      // Set the message
      toastMessage.textContent = message;

      // Show the toast
      toast.classList.add('show');

      // Hide the toast after 3 seconds
      setTimeout(function () {
        toast.classList.remove('show');
        toast.classList.add('hide');
      }, 3000);

      // Remove the hide class after the animation
      setTimeout(function () {
        toast.classList.remove('hide');
      }, 3500); //
    }

  </script>
</body>

</html>